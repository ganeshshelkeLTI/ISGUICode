(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('@angular/animations'), require('@angular/common'), require('@angular/platform-browser/animations')) :
    typeof define === 'function' && define.amd ? define('ng6-notify-popup', ['exports', '@angular/core', '@angular/animations', '@angular/common', '@angular/platform-browser/animations'], factory) :
    (factory((global['ng6-notify-popup'] = {}),global.ng.core,global.ng.animations,global.ng.common,global.ng.platformBrowser.animations));
}(this, (function (exports,i0,animations,common,animations$1) { 'use strict';

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
    function __values(o) {
        var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
        if (m)
            return m.call(o);
        return {
            next: function () {
                if (o && i >= o.length)
                    o = void 0;
                return { value: o && o[i++], done: !o };
            }
        };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var NotificationConfig = (function () {
        function NotificationConfig(position, duration, type, location, sticky, notifyText) {
            this.position = position;
            this.duration = duration;
            this.type = type;
            this.location = location;
            this.sticky = sticky;
            this.notifyText = notifyText;
        }
        return NotificationConfig;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var Ng6NotifyPopupComponent = (function () {
        function Ng6NotifyPopupComponent() {
            this.destroyComponent = new i0.EventEmitter();
        }
        /**
         * @return {?}
         */
        Ng6NotifyPopupComponent.prototype.dismiss = /**
         * @return {?}
         */
            function () {
                this.destroyComponent.emit(true);
            };
        Ng6NotifyPopupComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'notify',
                        template: "\n    <div [@shrinkOut]=\"fade\" class=\"trb-notify {{'trb-' + type}}\"\n         [ngClass]=\"{'trb-top': position=='top','trb-bottom':position=='bottom','trb-fixed':location=='body','trb-absolute':location!='body','trb-sticky':sticky==true}\">\n      <span class=\"trb-message\">{{notifyText}}</span>\n      <span class=\"trb-dismiss\" (click)=\"dismiss()\">\u00D7</span>\n    </div>",
                        styles: [".trb-notify{color:#fff;cursor:default;font-size:1.3em;left:0;opacity:0;padding:25px 80px;right:0;display:block;text-align:center;user-select:none;z-index:9999;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none}.trb-component{position:absolute}.trb-top{top:0}.trb-bottom{bottom:0}.trb-fixed{position:fixed}.trb-absolute{position:absolute}.trb-dismiss{background-color:#333;border-radius:15px;box-shadow:inset 2px 2px 7px 2px #000;color:#ddd;cursor:pointer;display:none;font-size:1.25em;font-weight:700;height:30px;line-height:30px;opacity:.2;position:absolute;right:40px;text-shadow:1px 1px 5px #000;top:25px;width:30px}.trb-sticky .trb-dismiss{display:block}.trb-dismiss:hover{background-color:#000}.trb-dismiss:active{background-color:#666}@media only screen and (max-width:480px){.trb-notify{font-size:1em;padding:12px 25px}.trb-dismiss{font-size:1em;height:20px;line-height:20px;right:5px;top:5px;width:20px}}.trb-info{background-color:#0e90d2}.trb-error{background-color:#dd514c}.trb-success{background-color:#5eb95e}.trb-warn{background-color:#f37b1d}.trb-grimace{background-color:#8058a5}.trb-prime.trb-info{background-color:#03c}.trb-prime.trb-error{background-color:red}.trb-prime.trb-success{background-color:#0c0}.trb-prime.trb-warn{background-color:#f90}.trb-prime.trb-grimace{background-color:#609}.trb-pastel.trb-info{background-color:#7ea7d8}.trb-pastel.trb-error{background-color:#f6989d}.trb-pastel.trb-success{background-color:#82ca9d}.trb-pastel.trb-warn{background-color:#fdc68a}.trb-pastel.trb-grimace{background-color:#a187be}.trb-pitchy.trb-info{background-color:#003471}.trb-pitchy.trb-error{background-color:#9e0b0f}.trb-pitchy.trb-success{background-color:#007236}.trb-pitchy.trb-warn{background-color:#a36209}.trb-pitchy.trb-grimace{background-color:#440e62}"],
                        animations: [
                            animations.trigger('shrinkOut', [
                                animations.state('show', animations.style({
                                    opacity: 1
                                })),
                                animations.state('hide', animations.style({
                                    opacity: 0
                                })),
                                animations.transition('show => hide', animations.animate('700ms ease-out')),
                                animations.transition('* => show', animations.animate('700ms ease-out'))
                            ])
                        ]
                    },] },
        ];
        Ng6NotifyPopupComponent.propDecorators = {
            position: [{ type: i0.Input }],
            duration: [{ type: i0.Input }],
            type: [{ type: i0.Input }],
            notifyText: [{ type: i0.Input }],
            fade: [{ type: i0.Input }],
            sticky: [{ type: i0.Input }],
            location: [{ type: i0.Input }],
            destroyComponent: [{ type: i0.Output }]
        };
        return Ng6NotifyPopupComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ComponentInjectService = (function () {
        function ComponentInjectService(applicationRef, componentFactoryResolver, injector) {
            this.applicationRef = applicationRef;
            this.componentFactoryResolver = componentFactoryResolver;
            this.injector = injector;
        }
        /**
         * @return {?}
         */
        ComponentInjectService.prototype.getRootViewContainer = /**
         * @return {?}
         */
            function () {
                if (this._container)
                    return this._container;
                /** @type {?} */
                var rootComponents = this.applicationRef.components;
                if (rootComponents.length)
                    return rootComponents[0];
                throw new Error('View Container not found! ngUpgrade needs to manually set this via setRootViewContainer.');
            };
        /**
         * @param {?} container
         * @return {?}
         */
        ComponentInjectService.prototype.setRootViewContainer = /**
         * @param {?} container
         * @return {?}
         */
            function (container) {
                this._container = container;
            };
        /**
         * @param {?} componentRef
         * @return {?}
         */
        ComponentInjectService.prototype.getComponentRootNode = /**
         * @param {?} componentRef
         * @return {?}
         */
            function (componentRef) {
                return /** @type {?} */ (((componentRef.hostView)).rootNodes[0]);
            };
        /**
         * @return {?}
         */
        ComponentInjectService.prototype.getRootViewContainerNode = /**
         * @return {?}
         */
            function () {
                return this.getComponentRootNode(this.getRootViewContainer());
            };
        /**
         * @param {?} component
         * @param {?} options
         * @return {?}
         */
        ComponentInjectService.prototype.projectComponentInputs = /**
         * @param {?} component
         * @param {?} options
         * @return {?}
         */
            function (component, options) {
                if (options) {
                    /** @type {?} */
                    var props = Object.getOwnPropertyNames(options);
                    try {
                        for (var props_1 = __values(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {
                            var prop = props_1_1.value;
                            component.instance[prop] = options[prop];
                        }
                    }
                    catch (e_1_1) {
                        e_1 = { error: e_1_1 };
                    }
                    finally {
                        try {
                            if (props_1_1 && !props_1_1.done && (_a = props_1.return))
                                _a.call(props_1);
                        }
                        finally {
                            if (e_1)
                                throw e_1.error;
                        }
                    }
                }
                return component;
                var e_1, _a;
            };
        /**
         * @template T
         * @param {?} componentClass
         * @param {?=} options
         * @param {?=} location
         * @return {?}
         */
        ComponentInjectService.prototype.appendComponentToBody = /**
         * @template T
         * @param {?} componentClass
         * @param {?=} options
         * @param {?=} location
         * @return {?}
         */
            function (componentClass, options, location) {
                if (options === void 0) {
                    options = {};
                }
                return this.appendComponent(componentClass, options, this.getRootViewContainerNode());
            };
        /**
         * @template T
         * @param {?} componentClass
         * @param {?=} options
         * @param {?=} location
         * @return {?}
         */
        ComponentInjectService.prototype.appendComponent = /**
         * @template T
         * @param {?} componentClass
         * @param {?=} options
         * @param {?=} location
         * @return {?}
         */
            function (componentClass, options, location) {
                if (options === void 0) {
                    options = {};
                }
                /** @type {?} */
                var componentFactory = this.componentFactoryResolver.resolveComponentFactory(componentClass);
                /** @type {?} */
                var componentRef = componentFactory.create(this.injector);
                /** @type {?} */
                var appRef = this.applicationRef;
                /** @type {?} */
                var componentRootNode = this.getComponentRootNode(componentRef);
                // project the options passed to the component instance
                this.projectComponentInputs(componentRef, options);
                // ApplicationRef's attachView and detachView methods are in Angular ^2.2.1 but not before.
                // The `else` clause here can be removed once 2.2.1 is released.
                if (appRef['attachView']) {
                    appRef.attachView(componentRef.hostView);
                    componentRef.onDestroy(function () {
                        appRef.detachView(componentRef.hostView);
                    });
                }
                else {
                    /** @type {?} */
                    var changeDetectorRef_1 = componentRef.changeDetectorRef;
                    appRef.registerChangeDetector(changeDetectorRef_1);
                    componentRef.onDestroy(function () {
                        appRef.unregisterChangeDetector(changeDetectorRef_1);
                        // Normally the ViewContainer will remove the component's nodes from the DOM.
                        // Without a ViewContainer, we need to manually remove the nodes.
                        if (componentRootNode.parentNode) {
                            componentRootNode.parentNode.removeChild(componentRootNode);
                        }
                    });
                }
                location.appendChild(componentRootNode);
                return componentRef;
            };
        /**
         * @param {?} compRef
         * @return {?}
         */
        ComponentInjectService.prototype.destroyComponent = /**
         * @param {?} compRef
         * @return {?}
         */
            function (compRef) {
                this.applicationRef.detachView(compRef.hostView);
                compRef.destroy();
            };
        ComponentInjectService.decorators = [
            { type: i0.Injectable, args: [{
                        providedIn: 'root'
                    },] },
        ];
        /** @nocollapse */
        ComponentInjectService.ctorParameters = function () {
            return [
                { type: i0.ApplicationRef },
                { type: i0.ComponentFactoryResolver },
                { type: i0.Injector }
            ];
        };
        /** @nocollapse */ ComponentInjectService.ngInjectableDef = i0.defineInjectable({ factory: function ComponentInjectService_Factory() { return new ComponentInjectService(i0.inject(i0.ApplicationRef), i0.inject(i0.ComponentFactoryResolver), i0.inject(i0.INJECTOR)); }, token: ComponentInjectService, providedIn: "root" });
        return ComponentInjectService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var Ng6NotifyPopupService = (function () {
        function Ng6NotifyPopupService(compInject) {
            this.compInject = compInject;
            this.defaultConfigVar = new NotificationConfig('bottom', 3000, 'error', 'body', false, '');
        }
        /**
         * @param {?} configObject
         * @return {?}
         */
        Ng6NotifyPopupService.prototype.defaultConfig = /**
         * @param {?} configObject
         * @return {?}
         */
            function (configObject) {
                this.setConfig(configObject, this.defaultConfigVar);
            };
        /**
         * @return {?}
         */
        Ng6NotifyPopupService.prototype.destroy = /**
         * @return {?}
         */
            function () {
                clearTimeout(this.cleartime);
                clearTimeout(this.clearhide);
                if (this.activeNotificationCompRef) {
                    this.compInject.destroyComponent(this.activeNotificationCompRef);
                    this.activeNotificationCompRef = null;
                }
            };
        /**
         * @param {?} notificationText
         * @param {?=} notificationConfig
         * @return {?}
         */
        Ng6NotifyPopupService.prototype.show = /**
         * @param {?} notificationText
         * @param {?=} notificationConfig
         * @return {?}
         */
            function (notificationText, notificationConfig) {
                var _this = this;
                this.destroy();
                /** @type {?} */
                var config = new NotificationConfig(this.defaultConfigVar.position, this.defaultConfigVar.duration, this.defaultConfigVar.type, this.defaultConfigVar.location, this.defaultConfigVar.sticky, notificationText);
                if (notificationConfig != undefined && notificationConfig != null)
                    this.setConfig(notificationConfig, config);
                if (config.location == 'body')
                    this.activeNotificationCompRef = this.compInject.appendComponentToBody(Ng6NotifyPopupComponent, config, document.querySelector('body'));
                else
                    this.activeNotificationCompRef = this.compInject.appendComponent(Ng6NotifyPopupComponent, config, document.querySelector(config.location));
                this.activeNotificationCompRef.instance.fade = 'show';
                if (!this.activeNotificationCompRef.instance.sticky) {
                    this.cleartime = window.setTimeout(function () {
                        _this.activeNotificationCompRef.instance.fade = 'hide';
                        _this.clearhide = window.setTimeout(function () {
                            _this.destroy();
                        }, 700);
                    }, config.duration);
                }
                else
                    this.activeNotificationCompRef.instance.destroyComponent.subscribe(function (value) {
                        _this.activeNotificationCompRef.instance.fade = 'hide';
                        _this.clearhide = window.setTimeout(function () {
                            _this.destroy();
                        }, 700);
                    });
            };
        /**
         * @param {?} configObject
         * @param {?} targetObject
         * @return {?}
         */
        Ng6NotifyPopupService.prototype.setConfig = /**
         * @param {?} configObject
         * @param {?} targetObject
         * @return {?}
         */
            function (configObject, targetObject) {
                /** @type {?} */
                var props = Object.getOwnPropertyNames(configObject);
                try {
                    for (var props_1 = __values(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {
                        var prop = props_1_1.value;
                        ((targetObject))[prop] = ((configObject))[prop];
                    }
                }
                catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                }
                finally {
                    try {
                        if (props_1_1 && !props_1_1.done && (_a = props_1.return))
                            _a.call(props_1);
                    }
                    finally {
                        if (e_1)
                            throw e_1.error;
                    }
                }
                var e_1, _a;
            };
        Ng6NotifyPopupService.decorators = [
            { type: i0.Injectable, args: [{
                        providedIn: 'root'
                    },] },
        ];
        /** @nocollapse */
        Ng6NotifyPopupService.ctorParameters = function () {
            return [
                { type: ComponentInjectService }
            ];
        };
        /** @nocollapse */ Ng6NotifyPopupService.ngInjectableDef = i0.defineInjectable({ factory: function Ng6NotifyPopupService_Factory() { return new Ng6NotifyPopupService(i0.inject(ComponentInjectService)); }, token: Ng6NotifyPopupService, providedIn: "root" });
        return Ng6NotifyPopupService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var Ng6NotifyPopupModule = (function () {
        function Ng6NotifyPopupModule() {
        }
        /**
         * @return {?}
         */
        Ng6NotifyPopupModule.forRoot = /**
         * @return {?}
         */
            function () {
                return {
                    ngModule: Ng6NotifyPopupModule,
                    providers: [
                        Ng6NotifyPopupService,
                        ComponentInjectService
                    ]
                };
            };
        Ng6NotifyPopupModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            animations$1.BrowserAnimationsModule
                        ],
                        declarations: [
                            Ng6NotifyPopupComponent
                        ],
                        providers: [
                            ComponentInjectService
                        ],
                        entryComponents: [
                            Ng6NotifyPopupComponent
                        ]
                    },] },
        ];
        return Ng6NotifyPopupModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    exports.Ng6NotifyPopupService = Ng6NotifyPopupService;
    exports.ComponentInjectService = ComponentInjectService;
    exports.Ng6NotifyPopupComponent = Ng6NotifyPopupComponent;
    exports.Ng6NotifyPopupModule = Ng6NotifyPopupModule;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmc2LW5vdGlmeS1wb3B1cC51bWQuanMubWFwIiwic291cmNlcyI6W251bGwsIm5nOi8vbmc2LW5vdGlmeS1wb3B1cC9saWIvbm90aWZpY2F0aW9uQ29uZmlnLnRzIiwibmc6Ly9uZzYtbm90aWZ5LXBvcHVwL2xpYi9uZzYtbm90aWZ5LXBvcHVwLmNvbXBvbmVudC50cyIsIm5nOi8vbmc2LW5vdGlmeS1wb3B1cC9saWIvc2VydmljZXMvY29tcG9uZW50LWluamVjdC5zZXJ2aWNlLnRzIiwibmc6Ly9uZzYtbm90aWZ5LXBvcHVwL2xpYi9zZXJ2aWNlcy9uZzYtbm90aWZ5LXBvcHVwLnNlcnZpY2UudHMiLCJuZzovL25nNi1ub3RpZnktcG9wdXAvbGliL25nNi1ub3RpZnktcG9wdXAubW9kdWxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMClcclxuICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl0sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIE5vdGlmaWNhdGlvbkNvbmZpZyB7XHJcbiAgcG9zaXRpb246IHN0cmluZztcclxuICBkdXJhdGlvbjogbnVtYmVyO1xyXG4gIHR5cGU6IHN0cmluZztcclxuICBsb2NhdGlvbjogc3RyaW5nO1xyXG4gIHN0aWNreTogYm9vbGVhbjtcclxuICBub3RpZnlUZXh0OiBzdHJpbmc7XHJcbiAgY29uc3RydWN0b3IocG9zaXRpb246IHN0cmluZywgZHVyYXRpb246IG51bWJlciwgdHlwZTogc3RyaW5nLCBsb2NhdGlvbjogc3RyaW5nLCBzdGlja3k6IGJvb2xlYW4sIG5vdGlmeVRleHQ6IHN0cmluZykge1xyXG4gICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xyXG4gICAgdGhpcy5kdXJhdGlvbiA9IGR1cmF0aW9uO1xyXG4gICAgdGhpcy50eXBlID0gdHlwZTtcclxuICAgIHRoaXMubG9jYXRpb24gPSBsb2NhdGlvbjtcclxuICAgIHRoaXMuc3RpY2t5ID0gc3RpY2t5O1xyXG4gICAgdGhpcy5ub3RpZnlUZXh0ID0gbm90aWZ5VGV4dDtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IGFuaW1hdGUsIHN0YXRlLCBzdHlsZSwgdHJhbnNpdGlvbiwgdHJpZ2dlciB9IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdub3RpZnknLFxuICB0ZW1wbGF0ZTogYFxuICAgIDxkaXYgW0BzaHJpbmtPdXRdPVwiZmFkZVwiIGNsYXNzPVwidHJiLW5vdGlmeSB7eyd0cmItJyArIHR5cGV9fVwiXG4gICAgICAgICBbbmdDbGFzc109XCJ7J3RyYi10b3AnOiBwb3NpdGlvbj09J3RvcCcsJ3RyYi1ib3R0b20nOnBvc2l0aW9uPT0nYm90dG9tJywndHJiLWZpeGVkJzpsb2NhdGlvbj09J2JvZHknLCd0cmItYWJzb2x1dGUnOmxvY2F0aW9uIT0nYm9keScsJ3RyYi1zdGlja3knOnN0aWNreT09dHJ1ZX1cIj5cbiAgICAgIDxzcGFuIGNsYXNzPVwidHJiLW1lc3NhZ2VcIj57e25vdGlmeVRleHR9fTwvc3Bhbj5cbiAgICAgIDxzcGFuIGNsYXNzPVwidHJiLWRpc21pc3NcIiAoY2xpY2spPVwiZGlzbWlzcygpXCI+w4PClzwvc3Bhbj5cbiAgICA8L2Rpdj5gLFxuICBzdHlsZXM6IFtgLnRyYi1ub3RpZnl7Y29sb3I6I2ZmZjtjdXJzb3I6ZGVmYXVsdDtmb250LXNpemU6MS4zZW07bGVmdDowO29wYWNpdHk6MDtwYWRkaW5nOjI1cHggODBweDtyaWdodDowO2Rpc3BsYXk6YmxvY2s7dGV4dC1hbGlnbjpjZW50ZXI7dXNlci1zZWxlY3Q6bm9uZTt6LWluZGV4Ojk5OTk7LXdlYmtpdC10b3VjaC1jYWxsb3V0Om5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1raHRtbC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZX0udHJiLWNvbXBvbmVudHtwb3NpdGlvbjphYnNvbHV0ZX0udHJiLXRvcHt0b3A6MH0udHJiLWJvdHRvbXtib3R0b206MH0udHJiLWZpeGVke3Bvc2l0aW9uOmZpeGVkfS50cmItYWJzb2x1dGV7cG9zaXRpb246YWJzb2x1dGV9LnRyYi1kaXNtaXNze2JhY2tncm91bmQtY29sb3I6IzMzMztib3JkZXItcmFkaXVzOjE1cHg7Ym94LXNoYWRvdzppbnNldCAycHggMnB4IDdweCAycHggIzAwMDtjb2xvcjojZGRkO2N1cnNvcjpwb2ludGVyO2Rpc3BsYXk6bm9uZTtmb250LXNpemU6MS4yNWVtO2ZvbnQtd2VpZ2h0OjcwMDtoZWlnaHQ6MzBweDtsaW5lLWhlaWdodDozMHB4O29wYWNpdHk6LjI7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6NDBweDt0ZXh0LXNoYWRvdzoxcHggMXB4IDVweCAjMDAwO3RvcDoyNXB4O3dpZHRoOjMwcHh9LnRyYi1zdGlja3kgLnRyYi1kaXNtaXNze2Rpc3BsYXk6YmxvY2t9LnRyYi1kaXNtaXNzOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzAwMH0udHJiLWRpc21pc3M6YWN0aXZle2JhY2tncm91bmQtY29sb3I6IzY2Nn1AbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6NDgwcHgpey50cmItbm90aWZ5e2ZvbnQtc2l6ZToxZW07cGFkZGluZzoxMnB4IDI1cHh9LnRyYi1kaXNtaXNze2ZvbnQtc2l6ZToxZW07aGVpZ2h0OjIwcHg7bGluZS1oZWlnaHQ6MjBweDtyaWdodDo1cHg7dG9wOjVweDt3aWR0aDoyMHB4fX0udHJiLWluZm97YmFja2dyb3VuZC1jb2xvcjojMGU5MGQyfS50cmItZXJyb3J7YmFja2dyb3VuZC1jb2xvcjojZGQ1MTRjfS50cmItc3VjY2Vzc3tiYWNrZ3JvdW5kLWNvbG9yOiM1ZWI5NWV9LnRyYi13YXJue2JhY2tncm91bmQtY29sb3I6I2YzN2IxZH0udHJiLWdyaW1hY2V7YmFja2dyb3VuZC1jb2xvcjojODA1OGE1fS50cmItcHJpbWUudHJiLWluZm97YmFja2dyb3VuZC1jb2xvcjojMDNjfS50cmItcHJpbWUudHJiLWVycm9ye2JhY2tncm91bmQtY29sb3I6cmVkfS50cmItcHJpbWUudHJiLXN1Y2Nlc3N7YmFja2dyb3VuZC1jb2xvcjojMGMwfS50cmItcHJpbWUudHJiLXdhcm57YmFja2dyb3VuZC1jb2xvcjojZjkwfS50cmItcHJpbWUudHJiLWdyaW1hY2V7YmFja2dyb3VuZC1jb2xvcjojNjA5fS50cmItcGFzdGVsLnRyYi1pbmZve2JhY2tncm91bmQtY29sb3I6IzdlYTdkOH0udHJiLXBhc3RlbC50cmItZXJyb3J7YmFja2dyb3VuZC1jb2xvcjojZjY5ODlkfS50cmItcGFzdGVsLnRyYi1zdWNjZXNze2JhY2tncm91bmQtY29sb3I6IzgyY2E5ZH0udHJiLXBhc3RlbC50cmItd2FybntiYWNrZ3JvdW5kLWNvbG9yOiNmZGM2OGF9LnRyYi1wYXN0ZWwudHJiLWdyaW1hY2V7YmFja2dyb3VuZC1jb2xvcjojYTE4N2JlfS50cmItcGl0Y2h5LnRyYi1pbmZve2JhY2tncm91bmQtY29sb3I6IzAwMzQ3MX0udHJiLXBpdGNoeS50cmItZXJyb3J7YmFja2dyb3VuZC1jb2xvcjojOWUwYjBmfS50cmItcGl0Y2h5LnRyYi1zdWNjZXNze2JhY2tncm91bmQtY29sb3I6IzAwNzIzNn0udHJiLXBpdGNoeS50cmItd2FybntiYWNrZ3JvdW5kLWNvbG9yOiNhMzYyMDl9LnRyYi1waXRjaHkudHJiLWdyaW1hY2V7YmFja2dyb3VuZC1jb2xvcjojNDQwZTYyfWBdLFxuICBhbmltYXRpb25zOiBbXG4gICAgdHJpZ2dlcignc2hyaW5rT3V0JywgW1xuICAgICAgc3RhdGUoJ3Nob3cnLCBzdHlsZSh7XG4gICAgICAgIG9wYWNpdHk6IDFcbiAgICAgIH0pKSxcbiAgICAgIHN0YXRlKCdoaWRlJywgc3R5bGUoe1xuICAgICAgICBvcGFjaXR5OiAwXG4gICAgICB9KSksXG4gICAgICB0cmFuc2l0aW9uKCdzaG93ID0+IGhpZGUnLCBhbmltYXRlKCc3MDBtcyBlYXNlLW91dCcpKSxcbiAgICAgIHRyYW5zaXRpb24oJyogPT4gc2hvdycsIGFuaW1hdGUoJzcwMG1zIGVhc2Utb3V0JykpXG4gICAgXSlcbiAgXVxufSlcbmV4cG9ydCBjbGFzcyBOZzZOb3RpZnlQb3B1cENvbXBvbmVudCB7XG4gIEBJbnB1dCgpIHBvc2l0aW9uOiBzdHJpbmc7XG4gIEBJbnB1dCgpIGR1cmF0aW9uOiBudW1iZXI7XG4gIEBJbnB1dCgpIHR5cGU6IHN0cmluZztcbiAgQElucHV0KCkgbm90aWZ5VGV4dDogc3RyaW5nO1xuICBASW5wdXQoKSBmYWRlOiBzdHJpbmc7XG4gIEBJbnB1dCgpIHN0aWNreTogYm9vbGVhbjtcbiAgQElucHV0KCkgbG9jYXRpb246IHN0cmluZztcbiAgQE91dHB1dCgpIGRlc3Ryb3lDb21wb25lbnQgPSBuZXcgRXZlbnRFbWl0dGVyPGJvb2xlYW4+KCk7XG5cbiAgcHVibGljIGRpc21pc3MoKTogdm9pZCB7XG4gICAgdGhpcy5kZXN0cm95Q29tcG9uZW50LmVtaXQodHJ1ZSk7XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIEFwcGxpY2F0aW9uUmVmLFxuICBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXG4gIENvbXBvbmVudFJlZixcbiAgRW1iZWRkZWRWaWV3UmVmLFxuICBJbmplY3RhYmxlLFxuICBJbmplY3RvcixcbiAgVHlwZVxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQEluamVjdGFibGUoe1xuICBwcm92aWRlZEluOiAncm9vdCdcbn0pXG5leHBvcnQgY2xhc3MgQ29tcG9uZW50SW5qZWN0U2VydmljZSB7XG4gIHByaXZhdGUgX2NvbnRhaW5lcjogQ29tcG9uZW50UmVmPGFueT47XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBhcHBsaWNhdGlvblJlZjogQXBwbGljYXRpb25SZWYsXG4gICAgcHJpdmF0ZSBjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI6IENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcixcbiAgICBwcml2YXRlIGluamVjdG9yOiBJbmplY3RvclxuICApIHtcbiAgfVxuXG4gIGdldFJvb3RWaWV3Q29udGFpbmVyKCk6IENvbXBvbmVudFJlZjxhbnk+IHtcbiAgICBpZiAodGhpcy5fY29udGFpbmVyKSByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xuXG4gICAgY29uc3Qgcm9vdENvbXBvbmVudHMgPSB0aGlzLmFwcGxpY2F0aW9uUmVmLmNvbXBvbmVudHM7XG4gICAgaWYgKHJvb3RDb21wb25lbnRzLmxlbmd0aCkgcmV0dXJuIHJvb3RDb21wb25lbnRzWzBdO1xuXG4gICAgdGhyb3cgbmV3IEVycm9yKCdWaWV3IENvbnRhaW5lciBub3QgZm91bmQhIG5nVXBncmFkZSBuZWVkcyB0byBtYW51YWxseSBzZXQgdGhpcyB2aWEgc2V0Um9vdFZpZXdDb250YWluZXIuJyk7XG4gIH1cblxuICBzZXRSb290Vmlld0NvbnRhaW5lcihjb250YWluZXI6IENvbXBvbmVudFJlZjxhbnk+KTogdm9pZCB7XG4gICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyO1xuICB9XG5cbiAgZ2V0Q29tcG9uZW50Um9vdE5vZGUoY29tcG9uZW50UmVmOiBDb21wb25lbnRSZWY8YW55Pik6IEhUTUxFbGVtZW50IHtcbiAgICByZXR1cm4gKGNvbXBvbmVudFJlZi5ob3N0VmlldyBhcyBFbWJlZGRlZFZpZXdSZWY8YW55Pikucm9vdE5vZGVzWzBdIGFzIEhUTUxFbGVtZW50O1xuICB9XG5cbiAgZ2V0Um9vdFZpZXdDb250YWluZXJOb2RlKCk6IEhUTUxFbGVtZW50IHtcbiAgICByZXR1cm4gdGhpcy5nZXRDb21wb25lbnRSb290Tm9kZSh0aGlzLmdldFJvb3RWaWV3Q29udGFpbmVyKCkpO1xuICB9XG5cbiAgcHJvamVjdENvbXBvbmVudElucHV0cyhjb21wb25lbnQ6IENvbXBvbmVudFJlZjxhbnk+LCBvcHRpb25zOiBhbnkpOiBDb21wb25lbnRSZWY8YW55PiB7XG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgIGNvbnN0IHByb3BzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob3B0aW9ucyk7XG4gICAgICBmb3IgKGNvbnN0IHByb3Agb2YgcHJvcHMpIHtcbiAgICAgICAgY29tcG9uZW50Lmluc3RhbmNlW3Byb3BdID0gb3B0aW9uc1twcm9wXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY29tcG9uZW50O1xuICB9XG5cbiAgYXBwZW5kQ29tcG9uZW50VG9Cb2R5PFQ+KFxuICAgIGNvbXBvbmVudENsYXNzOiBUeXBlPFQ+LFxuICAgIG9wdGlvbnM6IGFueSA9IHt9LFxuICAgIGxvY2F0aW9uOiBFbGVtZW50XG4gICk6IENvbXBvbmVudFJlZjxhbnk+IHtcbiAgICByZXR1cm4gdGhpcy5hcHBlbmRDb21wb25lbnQoY29tcG9uZW50Q2xhc3MsIG9wdGlvbnMsIHRoaXMuZ2V0Um9vdFZpZXdDb250YWluZXJOb2RlKCkpXG4gIH1cblxuICBhcHBlbmRDb21wb25lbnQ8VD4oXG4gICAgY29tcG9uZW50Q2xhc3M6IFR5cGU8VD4sXG4gICAgb3B0aW9uczogYW55ID0ge30sXG4gICAgbG9jYXRpb246IEVsZW1lbnRcbiAgKTogQ29tcG9uZW50UmVmPGFueT4ge1xuXG4gICAgbGV0IGNvbXBvbmVudEZhY3RvcnkgPSB0aGlzLmNvbXBvbmVudEZhY3RvcnlSZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShjb21wb25lbnRDbGFzcyk7XG4gICAgbGV0IGNvbXBvbmVudFJlZiA9IGNvbXBvbmVudEZhY3RvcnkuY3JlYXRlKHRoaXMuaW5qZWN0b3IpO1xuICAgIGxldCBhcHBSZWY6IGFueSA9IHRoaXMuYXBwbGljYXRpb25SZWY7XG4gICAgbGV0IGNvbXBvbmVudFJvb3ROb2RlID0gdGhpcy5nZXRDb21wb25lbnRSb290Tm9kZShjb21wb25lbnRSZWYpO1xuXG4gICAgLy8gcHJvamVjdCB0aGUgb3B0aW9ucyBwYXNzZWQgdG8gdGhlIGNvbXBvbmVudCBpbnN0YW5jZVxuICAgIHRoaXMucHJvamVjdENvbXBvbmVudElucHV0cyhjb21wb25lbnRSZWYsIG9wdGlvbnMpO1xuXG4gICAgLy8gQXBwbGljYXRpb25SZWYncyBhdHRhY2hWaWV3IGFuZCBkZXRhY2hWaWV3IG1ldGhvZHMgYXJlIGluIEFuZ3VsYXIgXjIuMi4xIGJ1dCBub3QgYmVmb3JlLlxuICAgIC8vIFRoZSBgZWxzZWAgY2xhdXNlIGhlcmUgY2FuIGJlIHJlbW92ZWQgb25jZSAyLjIuMSBpcyByZWxlYXNlZC5cbiAgICBpZiAoYXBwUmVmWydhdHRhY2hWaWV3J10pIHtcbiAgICAgIGFwcFJlZi5hdHRhY2hWaWV3KGNvbXBvbmVudFJlZi5ob3N0Vmlldyk7XG5cbiAgICAgIGNvbXBvbmVudFJlZi5vbkRlc3Ryb3koKCkgPT4ge1xuICAgICAgICBhcHBSZWYuZGV0YWNoVmlldyhjb21wb25lbnRSZWYuaG9zdFZpZXcpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFdoZW4gY3JlYXRpbmcgYSBjb21wb25lbnQgb3V0c2lkZSBvZiBhIFZpZXdDb250YWluZXIsIHdlIG5lZWQgdG8gbWFudWFsbHkgcmVnaXN0ZXJcbiAgICAgIC8vIGl0cyBDaGFuZ2VEZXRlY3RvciB3aXRoIHRoZSBhcHBsaWNhdGlvbi4gVGhpcyBBUEkgaXMgdW5mb3J0dW5hdGVseSBub3QgcHVibGlzaGVkXG4gICAgICAvLyBpbiBBbmd1bGFyIDw9IDIuMi4wLiBUaGUgY2hhbmdlIGRldGVjdG9yIG11c3QgYWxzbyBiZSBkZXJlZ2lzdGVyZWQgd2hlbiB0aGUgY29tcG9uZW50XG4gICAgICAvLyBpcyBkZXN0cm95ZWQgdG8gcHJldmVudCBtZW1vcnkgbGVha3MuXG4gICAgICBsZXQgY2hhbmdlRGV0ZWN0b3JSZWYgPSBjb21wb25lbnRSZWYuY2hhbmdlRGV0ZWN0b3JSZWY7XG4gICAgICBhcHBSZWYucmVnaXN0ZXJDaGFuZ2VEZXRlY3RvcihjaGFuZ2VEZXRlY3RvclJlZik7XG5cbiAgICAgIGNvbXBvbmVudFJlZi5vbkRlc3Ryb3koKCkgPT4ge1xuICAgICAgICBhcHBSZWYudW5yZWdpc3RlckNoYW5nZURldGVjdG9yKGNoYW5nZURldGVjdG9yUmVmKTtcblxuICAgICAgICAvLyBOb3JtYWxseSB0aGUgVmlld0NvbnRhaW5lciB3aWxsIHJlbW92ZSB0aGUgY29tcG9uZW50J3Mgbm9kZXMgZnJvbSB0aGUgRE9NLlxuICAgICAgICAvLyBXaXRob3V0IGEgVmlld0NvbnRhaW5lciwgd2UgbmVlZCB0byBtYW51YWxseSByZW1vdmUgdGhlIG5vZGVzLlxuICAgICAgICBpZiAoY29tcG9uZW50Um9vdE5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICAgIGNvbXBvbmVudFJvb3ROb2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY29tcG9uZW50Um9vdE5vZGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBsb2NhdGlvbi5hcHBlbmRDaGlsZChjb21wb25lbnRSb290Tm9kZSk7XG5cbiAgICByZXR1cm4gY29tcG9uZW50UmVmO1xuICB9XG5cbiAgZGVzdHJveUNvbXBvbmVudChjb21wUmVmOiBDb21wb25lbnRSZWY8YW55Pik6IHZvaWQge1xuICAgIHRoaXMuYXBwbGljYXRpb25SZWYuZGV0YWNoVmlldyhjb21wUmVmLmhvc3RWaWV3KTtcbiAgICBjb21wUmVmLmRlc3Ryb3koKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50UmVmLCBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBOb3RpZmljYXRpb25Db25maWcgfSBmcm9tICcuLi9ub3RpZmljYXRpb25Db25maWcnO1xuaW1wb3J0IHsgTmc2Tm90aWZ5UG9wdXBDb21wb25lbnQgfSBmcm9tICcuLi9uZzYtbm90aWZ5LXBvcHVwLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDb21wb25lbnRJbmplY3RTZXJ2aWNlIH0gZnJvbSAnLi9jb21wb25lbnQtaW5qZWN0LnNlcnZpY2UnO1xuXG5ASW5qZWN0YWJsZSh7XG4gIHByb3ZpZGVkSW46ICdyb290J1xufSlcbmV4cG9ydCBjbGFzcyBOZzZOb3RpZnlQb3B1cFNlcnZpY2Uge1xuICBwcml2YXRlIGRlZmF1bHRDb25maWdWYXI6IE5vdGlmaWNhdGlvbkNvbmZpZyA9IG5ldyBOb3RpZmljYXRpb25Db25maWcoJ2JvdHRvbScsIDMwMDAsICdlcnJvcicsICdib2R5JywgZmFsc2UsICcnKTtcbiAgcHJpdmF0ZSBhY3RpdmVOb3RpZmljYXRpb25Db21wUmVmOiBDb21wb25lbnRSZWY8YW55PjtcbiAgcHJpdmF0ZSBjbGVhcnRpbWU6IG51bWJlcjtcbiAgcHJpdmF0ZSBjbGVhcmhpZGU6IG51bWJlcjtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvbXBJbmplY3Q6IENvbXBvbmVudEluamVjdFNlcnZpY2UpIHtcbiAgfVxuXG4gIHB1YmxpYyBkZWZhdWx0Q29uZmlnKGNvbmZpZ09iamVjdDogT2JqZWN0KTogdm9pZCB7XG4gICAgdGhpcy5zZXRDb25maWcoY29uZmlnT2JqZWN0LCB0aGlzLmRlZmF1bHRDb25maWdWYXIpO1xuXG4gIH1cblxuICBwdWJsaWMgZGVzdHJveSgpOiB2b2lkIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5jbGVhcnRpbWUpO1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmNsZWFyaGlkZSk7XG4gICAgaWYgKHRoaXMuYWN0aXZlTm90aWZpY2F0aW9uQ29tcFJlZikge1xuICAgICAgdGhpcy5jb21wSW5qZWN0LmRlc3Ryb3lDb21wb25lbnQodGhpcy5hY3RpdmVOb3RpZmljYXRpb25Db21wUmVmKTtcbiAgICAgIHRoaXMuYWN0aXZlTm90aWZpY2F0aW9uQ29tcFJlZiA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHNob3cobm90aWZpY2F0aW9uVGV4dDogc3RyaW5nLCBub3RpZmljYXRpb25Db25maWc/OiBPYmplY3QpOiB2b2lkIHtcbiAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICBsZXQgY29uZmlnOiBOb3RpZmljYXRpb25Db25maWcgPSBuZXcgTm90aWZpY2F0aW9uQ29uZmlnKHRoaXMuZGVmYXVsdENvbmZpZ1Zhci5wb3NpdGlvbiwgdGhpcy5kZWZhdWx0Q29uZmlnVmFyLmR1cmF0aW9uLCB0aGlzLmRlZmF1bHRDb25maWdWYXIudHlwZSwgdGhpcy5kZWZhdWx0Q29uZmlnVmFyLmxvY2F0aW9uLCB0aGlzLmRlZmF1bHRDb25maWdWYXIuc3RpY2t5LCBub3RpZmljYXRpb25UZXh0KTtcbiAgICBpZiAobm90aWZpY2F0aW9uQ29uZmlnICE9IHVuZGVmaW5lZCAmJiBub3RpZmljYXRpb25Db25maWcgIT0gbnVsbClcbiAgICAgIHRoaXMuc2V0Q29uZmlnKG5vdGlmaWNhdGlvbkNvbmZpZywgY29uZmlnKTtcbiAgICBpZiAoY29uZmlnLmxvY2F0aW9uID09ICdib2R5JylcbiAgICAgIHRoaXMuYWN0aXZlTm90aWZpY2F0aW9uQ29tcFJlZiA9IHRoaXMuY29tcEluamVjdC5hcHBlbmRDb21wb25lbnRUb0JvZHkoTmc2Tm90aWZ5UG9wdXBDb21wb25lbnQsIGNvbmZpZywgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpKTtcbiAgICBlbHNlXG4gICAgICB0aGlzLmFjdGl2ZU5vdGlmaWNhdGlvbkNvbXBSZWYgPSB0aGlzLmNvbXBJbmplY3QuYXBwZW5kQ29tcG9uZW50KE5nNk5vdGlmeVBvcHVwQ29tcG9uZW50LCBjb25maWcsIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29uZmlnLmxvY2F0aW9uKSk7XG5cbiAgICB0aGlzLmFjdGl2ZU5vdGlmaWNhdGlvbkNvbXBSZWYuaW5zdGFuY2UuZmFkZSA9ICdzaG93JztcblxuICAgIGlmICghdGhpcy5hY3RpdmVOb3RpZmljYXRpb25Db21wUmVmLmluc3RhbmNlLnN0aWNreSkge1xuICAgICAgdGhpcy5jbGVhcnRpbWUgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHRoaXMuYWN0aXZlTm90aWZpY2F0aW9uQ29tcFJlZi5pbnN0YW5jZS5mYWRlID0gJ2hpZGUnO1xuICAgICAgICB0aGlzLmNsZWFyaGlkZSA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgfSwgNzAwKVxuICAgICAgfSwgY29uZmlnLmR1cmF0aW9uKTtcbiAgICB9XG4gICAgZWxzZVxuICAgICAgdGhpcy5hY3RpdmVOb3RpZmljYXRpb25Db21wUmVmLmluc3RhbmNlLmRlc3Ryb3lDb21wb25lbnQuc3Vic2NyaWJlKCh2YWx1ZSkgPT4ge1xuICAgICAgICB0aGlzLmFjdGl2ZU5vdGlmaWNhdGlvbkNvbXBSZWYuaW5zdGFuY2UuZmFkZSA9ICdoaWRlJztcbiAgICAgICAgdGhpcy5jbGVhcmhpZGUgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgIH0sIDcwMClcbiAgICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXRDb25maWcoY29uZmlnT2JqZWN0OiBPYmplY3QsIHRhcmdldE9iamVjdDogTm90aWZpY2F0aW9uQ29uZmlnKTogdm9pZCB7XG4gICAgY29uc3QgcHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhjb25maWdPYmplY3QpO1xuICAgIGZvciAoY29uc3QgcHJvcCBvZiBwcm9wcykge1xuICAgICAgKDxhbnk+dGFyZ2V0T2JqZWN0KVtwcm9wXSA9ICg8YW55PmNvbmZpZ09iamVjdClbcHJvcF07XG4gICAgfVxuXG4gIH1cbn1cbiIsImltcG9ydCB7IE1vZHVsZVdpdGhQcm92aWRlcnMsIE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBOZzZOb3RpZnlQb3B1cENvbXBvbmVudCB9IGZyb20gJy4vbmc2LW5vdGlmeS1wb3B1cC5jb21wb25lbnQnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IEJyb3dzZXJBbmltYXRpb25zTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlci9hbmltYXRpb25zJztcbmltcG9ydCB7IENvbXBvbmVudEluamVjdFNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL2NvbXBvbmVudC1pbmplY3Quc2VydmljZSc7XG5pbXBvcnQgeyBOZzZOb3RpZnlQb3B1cFNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL25nNi1ub3RpZnktcG9wdXAuc2VydmljZSc7XG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtcbiAgICBDb21tb25Nb2R1bGUsXG4gICAgQnJvd3NlckFuaW1hdGlvbnNNb2R1bGVcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbXG4gICAgTmc2Tm90aWZ5UG9wdXBDb21wb25lbnRcbiAgXSxcbiAgcHJvdmlkZXJzOiBbXG4gICAgQ29tcG9uZW50SW5qZWN0U2VydmljZVxuICBdLFxuICBlbnRyeUNvbXBvbmVudHM6IFtcbiAgICBOZzZOb3RpZnlQb3B1cENvbXBvbmVudFxuICBdXG59KVxuZXhwb3J0IGNsYXNzIE5nNk5vdGlmeVBvcHVwTW9kdWxlIHtcbiAgc3RhdGljIGZvclJvb3QoKTogTW9kdWxlV2l0aFByb3ZpZGVycyB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5nTW9kdWxlOiBOZzZOb3RpZnlQb3B1cE1vZHVsZSxcbiAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICBOZzZOb3RpZnlQb3B1cFNlcnZpY2UsXG4gICAgICAgIENvbXBvbmVudEluamVjdFNlcnZpY2VcbiAgICAgIF1cbiAgICB9O1xuICB9XG59XG4iXSwibmFtZXMiOlsiRXZlbnRFbWl0dGVyIiwiQ29tcG9uZW50IiwidHJpZ2dlciIsInN0YXRlIiwic3R5bGUiLCJ0cmFuc2l0aW9uIiwiYW5pbWF0ZSIsIklucHV0IiwiT3V0cHV0IiwidHNsaWJfMS5fX3ZhbHVlcyIsIkluamVjdGFibGUiLCJBcHBsaWNhdGlvblJlZiIsIkNvbXBvbmVudEZhY3RvcnlSZXNvbHZlciIsIkluamVjdG9yIiwiTmdNb2R1bGUiLCJDb21tb25Nb2R1bGUiLCJCcm93c2VyQW5pbWF0aW9uc01vZHVsZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0lBQUE7Ozs7Ozs7Ozs7Ozs7O0FBY0Esc0JBNEZ5QixDQUFDO1FBQ3RCLElBQUksQ0FBQyxHQUFHLE9BQU8sTUFBTSxLQUFLLFVBQVUsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDbEUsSUFBSSxDQUFDO1lBQUUsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3hCLE9BQU87WUFDSCxJQUFJLEVBQUU7Z0JBQ0YsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNO29CQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQztnQkFDbkMsT0FBTyxFQUFFLEtBQUssRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUM7YUFDM0M7U0FDSixDQUFDO0lBQ04sQ0FBQzs7Ozs7O0lDbkhELElBQUE7UUFPRSw0QkFBWSxRQUFnQixFQUFFLFFB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
{"remainingRequest":"D:\\ISG-InformX\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js??ref--8-1!D:\\ISG-InformX\\node_modules\\ngx-order-pipe\\fesm5\\ngx-order-pipe.js","dependencies":[{"path":"D:\\ISG-InformX\\node_modules\\ngx-order-pipe\\fesm5\\ngx-order-pipe.js","mtime":499162500000},{"path":"D:\\ISG-InformX\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1562860456543},{"path":"D:\\ISG-InformX\\node_modules\\@angular-devkit\\build-optimizer\\src\\build-optimizer\\webpack-loader.js","mtime":1562860430677}],"contextDependencies":[],"result":["/** PURE_IMPORTS_START tslib,_angular_core PURE_IMPORTS_END */\nimport { __decorate } from 'tslib';\nimport { Pipe, NgModule } from '@angular/core';\nvar OrderPipe = /** @class */ /*@__PURE__*/ (function () {\n    function OrderPipe() {\n    }\n    OrderPipe_1 = OrderPipe;\n    /**\n     * Check if a value is a string\n     *\n     * @param value\n     */\n    OrderPipe.isString = function (value) {\n        return typeof value === 'string' || value instanceof String;\n    };\n    /**\n     * Sorts values ignoring the case\n     *\n     * @param a\n     * @param b\n     */\n    OrderPipe.caseInsensitiveSort = function (a, b) {\n        if (OrderPipe_1.isString(a) && OrderPipe_1.isString(b)) {\n            return a.localeCompare(b);\n        }\n        return OrderPipe_1.defaultCompare(a, b);\n    };\n    /**\n     * Default compare method\n     *\n     * @param a\n     * @param b\n     */\n    OrderPipe.defaultCompare = function (a, b) {\n        if (a === b) {\n            return 0;\n        }\n        if (a == null) {\n            return 1;\n        }\n        if (b == null) {\n            return -1;\n        }\n        return a > b ? 1 : -1;\n    };\n    /**\n     * Parse expression, split into items\n     * @param expression\n     * @returns {string[]}\n     */\n    OrderPipe.parseExpression = function (expression) {\n        expression = expression.replace(/\\[(\\w+)\\]/g, '.$1');\n        expression = expression.replace(/^\\./, '');\n        return expression.split('.');\n    };\n    /**\n     * Get value by expression\n     *\n     * @param object\n     * @param expression\n     * @returns {any}\n     */\n    OrderPipe.getValue = function (object, expression) {\n        for (var i = 0, n = expression.length; i < n; ++i) {\n            var k = expression[i];\n            if (!(k in object)) {\n                return;\n            }\n            if (typeof object[k] === 'function') {\n                object = object[k]();\n            }\n            else {\n                object = object[k];\n            }\n        }\n        return object;\n    };\n    /**\n     * Set value by expression\n     *\n     * @param object\n     * @param value\n     * @param expression\n     */\n    OrderPipe.setValue = function (object, value, expression) {\n        var i;\n        for (i = 0; i < expression.length - 1; i++) {\n            object = object[expression[i]];\n        }\n        object[expression[i]] = value;\n    };\n    OrderPipe.prototype.transform = function (value, expression, reverse, isCaseInsensitive, comparator) {\n        if (isCaseInsensitive === void 0) {\n            isCaseInsensitive = false;\n        }\n        if (!value) {\n            return value;\n        }\n        if (Array.isArray(expression)) {\n            return this.multiExpressionTransform(value, expression, reverse, isCaseInsensitive, comparator);\n        }\n        if (Array.isArray(value)) {\n            return this.sortArray(value.slice(), expression, reverse, isCaseInsensitive, comparator);\n        }\n        if (typeof value === 'object') {\n            return this.transformObject(Object.assign({}, value), expression, reverse, isCaseInsensitive, comparator);\n        }\n        return value;\n    };\n    /**\n     * Sort array\n     *\n     * @param value\n     * @param expression\n     * @param reverse\n     * @param isCaseInsensitive\n     * @param comparator\n     * @returns {any[]}\n     */\n    OrderPipe.prototype.sortArray = function (value, expression, reverse, isCaseInsensitive, comparator) {\n        var isDeepLink = expression && expression.indexOf('.') !== -1;\n        if (isDeepLink) {\n            expression = OrderPipe_1.parseExpression(expression);\n        }\n        var compareFn;\n        if (comparator && typeof comparator === 'function') {\n            compareFn = comparator;\n        }\n        else {\n            compareFn = isCaseInsensitive ? OrderPipe_1.caseInsensitiveSort : OrderPipe_1.defaultCompare;\n        }\n        var array = value.sort(function (a, b) {\n            if (!expression) {\n                return compareFn(a, b);\n            }\n            if (!isDeepLink) {\n                if (a && b) {\n                    return compareFn(a[expression], b[expression]);\n                }\n                return compareFn(a, b);\n            }\n            return compareFn(OrderPipe_1.getValue(a, expression), OrderPipe_1.getValue(b, expression));\n        });\n        if (reverse) {\n            return array.reverse();\n        }\n        return array;\n    };\n    /**\n     * Transform Object\n     *\n     * @param value\n     * @param expression\n     * @param reverse\n     * @param isCaseInsensitive\n     * @param comparator\n     * @returns {any[]}\n     */\n    OrderPipe.prototype.transformObject = function (value, expression, reverse, isCaseInsensitive, comparator) {\n        var parsedExpression = OrderPipe_1.parseExpression(expression);\n        var lastPredicate = parsedExpression.pop();\n        var oldValue = OrderPipe_1.getValue(value, parsedExpression);\n        if (!Array.isArray(oldValue)) {\n            parsedExpression.push(lastPredicate);\n            lastPredicate = null;\n            oldValue = OrderPipe_1.getValue(value, parsedExpression);\n        }\n        if (!oldValue) {\n            return value;\n        }\n        OrderPipe_1.setValue(value, this.transform(oldValue, lastPredicate, reverse, isCaseInsensitive), parsedExpression);\n        return value;\n    };\n    /**\n     * Apply multiple expressions\n     *\n     * @param value\n     * @param {any[]} expressions\n     * @param {boolean} reverse\n     * @param {boolean} isCaseInsensitive\n     * @param {Function} comparator\n     * @returns {any}\n     */\n    OrderPipe.prototype.multiExpressionTransform = function (value, expressions, reverse, isCaseInsensitive, comparator) {\n        var _this = this;\n        if (isCaseInsensitive === void 0) {\n            isCaseInsensitive = false;\n        }\n        return expressions.reverse().reduce(function (result, expression) {\n            return _this.transform(result, expression, reverse, isCaseInsensitive, comparator);\n        }, value);\n    };\n    var OrderPipe_1;\n    return OrderPipe;\n}());\nvar OrderModule = /** @class */ /*@__PURE__*/ (function () {\n    function OrderModule() {\n    }\n    return OrderModule;\n}());\nexport { OrderModule, OrderPipe };\n//# sourceMappingURL=ngx-order-pipe.js.map\n",null]}
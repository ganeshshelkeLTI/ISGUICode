<div class="modal-header" style="background: #29497b;color:#fff;">
    <h6 class="modal-title">Select up to Three (3) Options to Compare</h6>
    <button type="button" style="color:#fff;" class="close" data-dismiss="modal" (click)='close()'>&times;</button>
</div>
<div class="scaleLabelCompare" *ngIf="pageId!=12 && pageId!=13">
    <div class="text-left">{{industryService.getScaleTitle()}} :&nbsp;
        <span> {{industryService.getScale()}}</span>
    </div>
</div>
<div class="modal-body compare-option-body">
    <div class="container">
        <div class="row comparerow1 compare-option-container">
            <div class="mb-sm-1 col-md-7 col-lg-7 ">
                <div class=" col-md-2 col-lg-2"></div>
                <div class=" col-md-12 col-lg-12 checkbarmenu" *ngIf="pageId==12 || pageId==13">
                    <div class="btn btn-isg-toggle " [ngClass]="(showIndustries=='industry')?'active':''" (click)="toggleFilter('industry')" >ISG Industry</div>
                    <div class="btn btn-isg-toggle " [ngClass]="(showIndustries=='revenue')?'active':''" (click)="toggleFilter('revenue')" >Revenue</div>
                    <div class="btn btn-isg-toggle " [ngClass]="(showIndustries=='custom_reference')?'active':''" (click)="toggleFilter('custom_reference')" >Custom Reference</div>

                    <hr class="align:left;">
                </div>
                <div class=" col-md-12 col-lg-12 checkbarmenu" *ngIf="pageId!=3 && pageId!=4 && pageId!=5 && pageId!=12 && pageId!=13">
                    <div class="btn btn-isg-toggle " [ngClass]="(showIndustries=='region')?'active':''" (click)="toggleFilter('region')">Region</div>
                    <div class="btn btn-isg-toggle " [ngClass]="(showIndustries=='custom_reference')?'active':''" (click)="toggleFilter('custom_reference')" >Custom Reference</div>

                    <hr class="align:left;">
                </div>

                <div class=" col-md-12 col-lg-12 checkbarmenu" *ngIf="pageId==3||pageId==4||pageId==5">
                    <div class="btn btn-isg-toggle " [ngClass]="(showIndustries=='servers')?'active':''" (click)="toggleFilter('servers')">Servers</div>
                    <div class="btn btn-isg-toggle " [ngClass]="(showIndustries=='region')?'active':''" (click)="toggleFilter('region')">Region</div>
                    <div class="btn btn-isg-toggle " [ngClass]="(showIndustries=='custom_reference')?'active':''" (click)="toggleFilter('custom_reference')" >Custom Reference</div>
                    <hr class="align:left;">
                </div>
                <div class="mb-sm-1 col-md-12 col-lg-12 my-3">
                    <div class="compare-otion-holder" style="max-height:245px;overflow-y: auto;">
                        <div class="col-md-12 col-lg-12" *ngIf="(showIndustries=='industry')&&(pageId==12||pageId==13)">
                            <label *ngFor='let industries of selectedIndustries' class="container-checkbox">{{industries.label}}
                                <input type="checkbox" (change)="change()" [(ngModel)]='industries.value' checked=false>
                                <span class="checkmark"></span>
                            </label>
                        </div>
                        <!-- Revenue filter added -->
                        <div class="col-md-12 col-lg-12" *ngIf="(showIndustries=='revenue')&&(pageId==12||pageId==13)">
                            <label *ngFor='let revenue of selectedRevenue' class="container-checkbox">{{revenue.label}}
                                <input type="checkbox" (change)="change()" [(ngModel)]='revenue.value' checked=false>
                                <span class="checkmark"></span>
                            </label>
                        </div>
                        <div class="col-md-12 col-lg-12" *ngIf="(showIndustries=='servers')&&(pageId==3||pageId==4||pageId==5)">
                            <label *ngFor='let server of selectedServers' class="container-checkbox">{{server.label}}
                                <input type="checkbox" (change)="change()" [(ngModel)]='server.value' checked=false>
                                <span class="checkmark"></span>
                            </label>
                        </div>
                        <div class="col-md-12 col-lg-12" *ngIf="(showIndustries=='region')&&(pageId==2||pageId==3||pageId==4||pageId==5||pageId==6||pageId==7||pageId==8||pageId==9||pageId==10||pageId==11)">
                            <label *ngFor='let region of selectedRegion' class="container-checkbox">{{region.label}}
                                <input type="checkbox" (change)="change()" [(ngModel)]='region.value' checked=false>
                                <span class="checkmark"></span>
                            </label>
                        </div>
                        <div class="col-md-12 col-lg-12" *ngIf="(showIndustries=='custom_reference')&&(pageId==2||pageId==3||pageId==4||pageId==5||pageId==6||pageId==7||pageId==8||pageId==9||pageId==10||pageId==11||pageId==12||pageId==13)">
                            <label *ngFor='let customRerence of selectedcustomRerence' class="container-checkbox">{{customRerence.label}}
                                <input type="checkbox" (change)="change()" [(ngModel)]='customRerence.value' checked=false>
                                <span class="checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-5 col-lg-5 checkbarmenu">
                <div class="row">
                        <div class="col-md-12 col-lg-12" style="margin-top: 15px; display: -webkit-inline-box;">
                                <div class="col-md-3 col-lg-3 col-sm-3 my-data-label">
                                    <label class="container-checkbox my-data-w">My Data
        
                                    </label>
                                </div>
                                <div class="col-md-9 col-lg-9 col-sm-9 currency-section">
                                    <label for="Select currency" class="my-data-currency">Currency</label>
                                    <select class="currency-dropdown" [(ngModel)]='selectedCurrency' [disabled]='isScenarioNotSelected'>
                                      
                                      <option *ngFor='let currency of allCurrencyData.currencyExchange' [ngValue]=currency>{{currency.value}}</option>
                                    </select>
                                </div>
                                <hr>
                            </div>

                    <div class="col-md-12 col-lg-12">
                        <div class="list-group scenarion-list" style="min-height: 50px;max-height:245px;overflow-y: auto;">
                            <label *ngFor='let scenario of selectedScanrio;let i=index;' class="container-checkbox font-size-group2">
                                <div style=" white-space: nowrap;width:200px;overflow: hidden;text-overflow: ellipsis; " placement="bottom" ngbTooltip="{{scenario.name}}"
                                    container="body" *ngIf="i<(selectedScanrio.length-1)">{{scenario.label}}</div>
                                <div style=" white-space: nowrap;width:200px;overflow: hidden;text-overflow: ellipsis; " placement="top" ngbTooltip="{{scenario.name}}"
                                    container="body" *ngIf="i==(selectedScanrio.length-1)">{{scenario.label}}</div>
                                <input type="checkbox" [(ngModel)]='scenario.value' (change)="change()" (ngModelChange)="updateScanrioList(scenario)">
                                <span class="checkmark"></span>
                            </label>
                        </div>
                        <div *ngIf= "pageId!=12 && pageId!=13">
                                <button *ngIf='privilegesObject.enterMyData' id="enterNewScenarioBtn" data-toggle="modal" data-backdrop="static" data-keyboard="false"
                                data-target=".modal-select-to-compare-tower" data-dismiss="modal" class="btn btn-primary my-3 font-size-group2 bgcolor pr-1 btn-wtd"
                                (click)="setFlagEnterData()">
                                <i class="fa fa-plus" aria-hidden="true"></i>&nbsp;Enter new Scenario
                            </button>
                            <button *ngIf='privilegesObject.enterMyData' id="editScenarioBtn" [disabled]='isEditDisabled' class="btn btn-primary my-3 font-size-group2 bgcolor pr-1 btn-wtd"
                                data-backdrop="static" data-keyboard="false" data-target=".modal-select-to-compare-tower" (click)="editAndCompareEventHandler()"
                                data-toggle="modal" data-dismiss="modal">
                                <i class="fa fa-edit" aria-hidden="true"></i>&nbsp;Edit Scenario
                            </button>
                            <button id="deleteScenarioBtn" class="btn btn-primary font-size-group2 bgcolor pr-1 btn-wtd" (click)="deleteScenario()" *ngIf="privilegesObject.deleteScenario" [disabled]="!isDeleteAllowed">
                                    <i class="fa fa-trash-o" aria-hidden="true"></i>&nbsp;Delete Scenario</button>
                        </div>
                        
                        <div *ngIf="pageId==12 || pageId==13">
                        <button *ngIf='privilegesObject.enterMyData' id="enterNewScenarioBtn" data-toggle="modal" data-backdrop="static" data-keyboard="false"
                            data-target=".modal-select-to-compare-adm" data-dismiss="modal" class="btn btn-primary my-3 font-size-group2 bgcolor pr-1 btn-wtd"
                            (click)="setFlagEnterData()">
                            <i class="fa fa-plus" aria-hidden="true"></i>&nbsp;Enter new Scenario
                        </button>
                        <button *ngIf='privilegesObject.enterMyData' id="editScenarioBtn" [disabled]='isEditDisabled' class="btn btn-primary my-3 font-size-group2 bgcolor pr-1 btn-wtd"
                            data-backdrop="static" data-keyboard="false" data-target=".modal-select-to-compare-adm" (click)="editAndCompareEventHandler()"
                            data-toggle="modal" data-dismiss="modal">
                            <i class="fa fa-edit" aria-hidden="true"></i>&nbsp;Edit Scenario
                        </button>
                        <button id="deleteScenarioBtn" class="btn btn-primary font-size-group2 bgcolor pr-1 btn-wtd" (click)="deleteScenario()" *ngIf="privilegesObject.deleteScenario" [disabled]="!isDeleteAllowed">
                                <i class="fa fa-trash-o" aria-hidden="true"></i>&nbsp;Delete Scenario</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
<!--data-target=".modal-compare-grid-tower"-->
<div>
    <hr>
    <div class="btn-row" style="display: block;width: 100%;text-align: center;">
        <button data-toggle="modal" (click)="compareData()" [disabled]="(disableCompareButton)||(isScenariosLoaded&&isRegionLoaded&&!letUserProcced)"
            data-backdrop="static" data-keyboard="false" class="btn btn-primary btn-positive-isg" *ngIf="pageId==2">Compare</button>
        <button data-toggle="modal" [disabled]="(disableCompareButton)||(isScenariosLoaded&&isRegionLoaded&&!letUserProcced)" data-backdrop="static"
            data-keyboard="false" class="btn btn-primary btn-positive-isg" (click)="compareData()" *ngIf="pageId==3|| pageId==4||pageId==5">Compare</button>
        <button data-toggle="modal" [disabled]="(disableCompareButton)||(isScenariosLoaded&&isRegionLoaded&&!letUserProcced)" data-backdrop="static"
            data-keyboard="false" class="btn btn-primary btn-positive-isg" (click)="compareData()" *ngIf="pageId==6">Compare</button>
        <button data-toggle="modal" [disabled]="(disableCompareButton)||(isScenariosLoaded&&isRegionLoaded&&!letUserProcced)" data-backdrop="static"
            data-keyboard="false" class="btn btn-primary btn-positive-isg" (click)="compareData()" *ngIf="pageId==10">Compare</button>
        <button data-toggle="modal" [disabled]="(disableCompareButton)||(isScenariosLoaded&&isRegionLoaded&&!letUserProcced)" data-backdrop="static"
            data-keyboard="false" class="btn btn-primary btn-positive-isg" (click)="compareData()" *ngIf="pageId==11">Compare</button>
        <button data-toggle="modal" [disabled]="(disableCompareButton)||(isScenariosLoaded&&isRegionLoaded&&!letUserProcced)" data-backdrop="static"
            data-keyboard="false" class="btn btn-primary btn-positive-isg" (click)="compareData()" *ngIf="pageId==7||pageId==8||pageId==9">Compare</button>
        <button data-toggle="modal" [disabled]="(disableCompareButton)||(isScenariosLoaded&&!letUserProcced)" data-backdrop="static"
            data-keyboard="false" class="btn btn-primary btn-positive-isg" (click)="compareData()" *ngIf="pageId==12||pageId==13">Compare</button>
        <div class="btn btn-primary mx-2 btn-negative-isg " data-dismiss="modal" (click)="close()" style="padding: 7px;">Cancel</div>
    </div>

    <div class="compare-option-note" id="uptothree">
        <span [ngStyle]="{color:error_class}">
            <b>Note:&nbsp;</b> - Maximum three (3) options allowed to compare
        </span>
        <br/>
        <span *ngIf="pageId!=12 && pageId!=13">
            <b style="visibility:hidden;">Note:&nbsp;</b> - Scale is selected on primary KPI screen; close the Compare window to adjust
        </span>
        
    </div>

</div>

<div class="confirm_box" *ngIf="confirmBoxDeleteFlag">
        <div class="confirm-card">
            <div class="col py-3">
                Selected Scenarios will be deleted. Do you wish to continue?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" (click)="deleteConfirmYes(false);">No</button>
                <button type="button" class="btn btn-primary" (click)="deleteConfirmYes(true);">Yes</button>
            </div>
        </div>
    </div>